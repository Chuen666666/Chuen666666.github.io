---
title: 一口氣搞懂微積分！（初階微積分）
categories:
  - 筆記與教學
  - 數學
tags:
  - 筆記
  - 教學
  - 數學
  - 微積分
  - 微分
  - 積分
  - 極限
math: true
mermaid: false
hide: true
date: 2026-02-18 20:56:25
excerpt: 一口氣讓你理解高中微積分在幹嘛，並做一些延伸
---

在這篇文章中，我會以新手都能聽懂的方式，來講解基礎高中微積分，並且再將它向外延伸一些，分享一些好用的技巧和有趣的題目，讓大家能夠透過這篇文章來入門微積分的世界。

如果有哪裡我寫得太難懂，或一直搞不懂的情況，歡迎主動私訊我詢問！

{% note success %}
本篇筆記公式較多，手機瀏覽易跑版
建議使用電腦觀看以獲得最佳閱讀體驗
{% endnote %}

{% note primary %}
靈感與部分資料取自微積分課程、高三上數學與 YouTube，若有侵權之疑，請主動與我聯繫！
{% endnote %}

## 極限

### 意義

「極限」指的是一個「**無限逼近的過程**」，例如當 $x$ 無限接近 $a$ 時，可以寫作 $x \to a$。需要特別注意的是，當 $x \to a$ 時，$x \ne a$。

### 計算

當我們在計算一個函數 $f(x)$ 在 $x \to a$ 時，我們可以寫成

{% raw %}
$$
\lim_{x \to a}f(x)
$$
{% endraw %}

計算時，我們可以試著先將 $a$ 直接代入 $f(x)$，此時可能會產生三種結果：

- $\frac{\mathbb R}{0}$：不存在（Does not exist, D.N.E., $\nexists$）
- $\frac{\mathbb R}{\mathbb R}$：即極限值的結果
- $\frac 00$：不定形式（Indeterminate）

前兩種都好理解，但何為不定形式？不定形式指的是「還不確定它是什麼」，也就是說還要做進一步的處理，才能得到其值。在做極限時，一共有七種不定形式：

- $\frac 00$
- $\pm\frac{\infty}{\infty}$
- $\infty-\infty$
- $0\cdot\infty$
- $0^0$
- $1^\infty$
- $\infty^0$

那麼，什麼叫「進一步的處理」？其實在遇到不定形式時，我們都能夠用某種方式，將它轉換為 $\frac 00$ 或 $\pm\frac\infty\infty$ 這兩種不定形式，則此時我們就知道，原式的分子和分母必存在一個公因式可以進行約分。

約分算是其中一種處理方式，而另一種則是使用**羅必達法則**來處理：

{% btn /新手都能看懂的羅必達法則, 羅必達法則教學文章, 羅必達法則教學文章 %}

經過處理後，若仍為不定形式，則可以重覆處理，直到它不是不定形式，則此時便可求出函數的極限值。

### 左極限、右極限

在處理一些比較特別的極限時，我們可以將極限拆為左極限與右極限，它的意義即為「極限值是從左側（負）或右側（正）逼近」。要注意的是，**極限值必唯一**，故唯有函數**左極限值 = 右極限值**時，極限值才存在，否則極限不存在。

舉個例子，

{% raw %}
$$
f(x)=\begin{cases} {x^2}, & {x<1} \\ {2x+1}, & {x\ge 1} \end{cases}
$$
{% endraw %}

求

{% raw %}
$$
\lim_{x \to 1}f(x)
$$
{% endraw %}

因為函數剛好在 $x=1$ 處斷開了，因此為了計算 $x \to 1$ 時的極限值，就得用到左右極限的概念。先來看左極限，它可以寫成 $\displaystyle\lim\_{x \to 1^-}f(x)$，因為極限從左側逼近，可以把它想像成 $0.999...$，所以我們代 $x<1$ 的那段，極限值就會是 $1$；再看右極限，它可以寫成 $\displaystyle\lim\_{x \to 1^+}f(x)$，因為極限從右側逼近，可以把它想像成 $1.000...1$，所以代 $x \ge 1$ 那段，極限值就會是 $3$。

很明顯地，$1 \ne 3$，左右極限不相等，故函數值不存在。

### 夾擠定律

這是一個相當直觀的定律，指的是當 $x \to a$ 時，若 $g(x) \le f(x) \le h(x)$，且 $\displaystyle\lim\_{x \to a}g(x)=\displaystyle\lim\_{x \to a}h(x)=L$，則 $\displaystyle\lim\_{x \to a}f(x)=L$。

## 無窮

### 意義

無窮不是一個數，而是「**無限上升**」的概念，記作 $\infty$。對任意實數 $a$，它必在 $(-\infty,\infty)$ 之間，寫作 $-\infty<a<\infty$。

### 運算

剛才我們提到了一些包含了無窮的不定形式，現在讓我們深入了解一下無窮的運算。注意，以下條件均為「**做極限**」的狀態下的簡化表達，非嚴謹數學語言。

- $\infty \pm a=\infty$
- $-\infty \pm a=-\infty$
- $\infty+\infty=\infty$
- $a\cdot\infty=\infty,\,a>0$
- $-a\cdot\infty=-\infty,\,a>0$
- $\infty\cdot\infty=\infty$
- $\infty\cdot(-\infty)=-\infty$
- $\frac{\pm a}{\infty}=0$
- $\infty^r=\infty,\,r>0$
- $\frac{1}{\infty^r}=0,\,r>0$
- $\frac{\pm a}{0}=\pm\infty,\,a>0$（依 $0^+$ 或 $0^-$ 決定正負號）
- $a^\infty=\infty,\,a>1$
- $a^\infty=0,\,0 \le a < 1$

### 比大小

雖然都是無窮，但根據函數跑去無窮的速度不同，我們仍可以對它們比大小，具體方式便是採用**大 O 符號（Big-O）**和**小 o 符號（little-o）**。

以下均比較 $f(n)$ 和 $g(n)$ 均趨近無窮（$n \to \infty$，且兩函數亦逼近無窮）時的情況來說明。

#### 大 O

當 $f(n)$ 跑去無窮的速度**慢於或等於** $g(n)$ 時，可以寫成

{% raw %}
$$
f(n)=O(g(n))
$$
{% endraw %}

#### 小 o

當 $f(n)$ 跑去無窮的速度**小於** $g(n)$ 時，可以寫成

{% raw %}
$$
f(n)=o(g(n))
$$
{% endraw %}

#### 做法

我們可以把兩個要比大小的函數放到一個分數的分子和分母（$\displaystyle\lim\_{n \to \infty}\frac{f(n)}{g(n)}$），算它會趨近於 $0$ 還是 $\infty$，就能知道誰大誰小了。

#### 舉例

若欲比較 $2^n$ 和 $n^2$ 在 $n \to \infty$ 時的大小，我們可以算出 $\displaystyle\lim\_{n \to \infty}\frac{n^2}{2^n}=0$，代表**分母 > 分子**，即同時符合 $n^2=O(2^n)$ 和 $n^2=o(2^n)$；反之，若算 $\displaystyle\lim\_{n \to \infty}\frac{2^n}{n^2}=\infty$，就表示 $2^n \ne O(n^2)$ 和 $2^n \ne o(n^2)$。結論就可以說 $n^2 \ll 2^n$。

## 泰勒形式

### 形式

只要把一個標準形式的多項式 $a\_nx^n+a\_{n-1}x^{n-1}+\cdots+a\_1x+a\_0$ 改寫成 $c\_0+c\_1(x-a)+c\_2(x-a)^2+\cdots+c\_n(x-a)^n$ 的形式，就稱為**泰勒形式（泰勒展開式）**，並且 $a$ 稱為**參考點**。

### 做法

要把多項式轉為泰勒形式，我們可以採用高一上就教過的**連續綜合除法**。舉個例子，若我們要做「$2x^3−3x^2+4x+5$」在參考點 $a=1$ 處的泰勒展開：

{% img /img/synthetic_division.png 泰勒展開範例 %}

最終它的泰勒形式即為

{% raw %}
$$
8+4(x-1)+3(x-1)^2+2(x-1)^3
$$
{% endraw %}

### 一次估計

做出泰勒形式後，它的意義實際上是做估計，我們取泰勒形式到一次項時，則稱為「**一次估計**」，其泰勒形式的圖形其實也就是原本圖形在遠處看時的近似圖形（一次圖形）。

以剛才的 $a\_nx^n+a\_{n-1}x^{n-1}+\cdots+a\_1x+a\_0$ 改寫成 $c\_0+c\_1(x-a)+c\_2(x-a)^2+\cdots+c\_n(x-a)^n=8+4(x-1)+3(x-1)^2+2(x-1)^3$ 而言，其一次估計就會取 $8+4(x-1)$ 這個部分來做估計。

要特別注意的是，$|x-a|$ 之值要夠小才能用一次估計，否則估計出來的數值會誤差很大。

### 切線與導數

我們稱一次估計的函數 $y=m(x-a)+f(a)$ 為 $f(x)$ 在 $x=a$ 處的**切線**，且斜率 $m$ 又稱為「**導數**」，可以寫作 $f'(a)$。

因此，一次估計的公式又可以寫成

{% raw %}
$$
y=f'(a)(x-a)+f(a)
$$
{% endraw %}

## 導數（微分）

### 基本公式

**微分**是指計算出導（函）數的計算過程，對 $f(x)$ 微分（或者說求其導函數）可以寫作 $f'(x)$ 或 $[f(x)]'$，我們有兩種方式可以理解導數的基本公式。

#### 泰勒形式

從一次估計的概念中，我們可以知道 $f(x) \approx f(a)+f'(a)(x-a)$，也就是說 $\frac{f(x)-f(a)}{x-a} \approx f'(a)$。而此時，若 $x$ 越來越靠近 $a$，則函數近似值就會越來越準，故可寫成

{% raw %}
$$
f'(a)=\displaystyle\lim\_{x \to a}\frac{f(x)-f(a)}{x-a}
$$
{% endraw %}

#### 極限

另一個觀點來看，導數代表的是「**切線斜率**」，若用 $h$ 表示 $x$ 的改變量，則 $f(a+h)-f(a)$ 代表 $y$ 的改變量，那麼就可以寫成 $\frac{f(a+h)-f(a)}{h}$，代表的是在區間 $[a,a+h]$ 之間的**平均變化率**。

若今天我們讓 $h \to 0$，則平均變化率會變成**瞬時變化率**，也就是導數，則可以寫為

{% raw %}
$$
f'(a)=\lim_{h \to 0}\frac{f(a+h)-f(a)}{h}
$$
{% endraw %}

#### 整合

我們改寫 $h=x-a$，則

{% raw %}
$$
f'(a)=\lim_{x \to a}\frac{f(x)−f(a)}{x-a}​
$$
{% endraw %}

因此兩種看法指向的是同一個結果。

#### 推導成公式

當我們代 $f(x)=x^n$ 時，無論你是用泰勒形式或極限的看法去代算，都能得出一個結論：$[x^n]'=nx^{n-1}$，這便是導數的基礎公式。

我們分別就不同情況來舉一例子：

- $[x^5]'=5x^4$
- $[7]'=0$
- $[\sqrt x]'=[x^{\frac12}]'=\frac12x^{-\frac12}$
- $[\frac{1}{x^3}]'=[x^{-3}]'=-3x^{-4}$

### 運算

- 加減法則：多項式函數做導函數時，可以將每項拆開，分別計算導數後，再組合起來。例如 $f(x)=x^2+x+1$，做它的導函數時，可以將 $x^2$、$x$、$1$ 這三項分開來算導數後，再組合起來，得 $f'(x)=2x+1$
- 係數積法則：有係數時，可以將它提出來，求出導數後再乘回去。例如 $f(x)=3x^2$，則微分時可將係數 $3$ 提出，過程會變成 $f'(x)=3[x^2]'=3[2x]=6x$

### 多次微分

在進行不止一次的微分時，例如二次微分（記作 $f''(x)$），是取一次微分 $f'(x)$ 的結果再進行微分，以此類推。

記號上，我們會用 $f'(x)$、$f''(x)$、$f'''(x)$ 表示一到三次的微分，而四次及以上，則會用 $f^{(4)}$、$f^{(5)}$、$f^{(6)}$……來表達。

## 增減、極值、反曲點

### 遞增或遞減

我們知道了，一次微分代表函數的**切線斜率**，因此若我們想知道 $x=a$ 處的切線斜率，可以用 $f'(a)$ 求得。$f'(a)>0$ 表示函數遞增（Increase），$f'(a)<0$ 則是遞減（Decrease），且 $|f'(a)|$ 可以反映出函數陡或緩。

若現在的情況相反，我們知道函數值，但要求它在哪個區間的遞增或遞減情形，則我們可以直接設 $f'(x)>0$ 或 $f'(x)<0$ 再去求 $x$ 範圍，就能知道函數的情形了。

{% note info %}
再精確一點說：

- $f'(a)\ge0$：遞增
- $f'(a)\le0$：遞減
- $f'(a)>0$：嚴格遞增
- $f'(a)<0$：嚴格遞減
{% endnote %}

### 極值

剛才提到了 $f'(a)>0$ 和 $f'(a)<0$ 的情況了，但 $f'(a)=0$ 呢？實際上，在 $f'(a)=0$ 處，它在函數圖形上會剛好是一個臨界點（Critical Point），那這就很好想它的意義了，也就是「**極值**」。

以二次圖形來說，轉折處只會有一個，也就是它的**最大值**（絕對極大值 Absolute Maximum、全域極大值 Global Maximum）或**最小值**（絕對極小值 Absolute Minimum、全域極小值 Global Minimum）。

但到了三次及以上的圖形時，它的圖形就不一定會存在最值了，某些方向會向無窮遠處延伸，此時我們仍能找到 $f'(a)=0$ 的值，它會在很小的區域中呈現小山峰或小山谷，因為在小範圍中它是最大或最小的值，我們稱它為**極大值**（相對極大值 Relative Maximum、局部極大值 Local Maximum）或**極小值**（相對極小值 Relative Minimum、局部極小值 Local Minimum）。

不過，這裡仍會存在一個例外，也就是「重根」時，當我們找到 $f'(x)$ 的解 $a$ 為重根時，表示它在 $f'(a)$ 的左右兩側沒有變號，此時在 $x=a$ 處就不能算極值。

{% img /img/extremum.png 極值 %}

### 反曲點

#### 定義

反曲點發生在三次及以上的函數，在函數圖形取一點，若該點的左右兩側「**彎曲方向相反**」（**一上一下**或**一下一上**）時，則該點就稱為**反曲點（Point of Inflection）**。

{% img /img/turning_point.png 反曲點 %}

#### 做法

對於存在反曲點的函數 $f(x)$，其反曲點「可能」發生在 $x=a$ 處，使得 $f''(a)=0$ 且 $f''(a)$ 在 $a$ 的兩側變號。

{% note info %}
其實反曲點的意義就是去找「切線斜率 $f'(x)$ 圖形的切線斜率 $f''(x)$」
{% endnote %}

### 例外

在函數中，**不一定會存在極值或反曲點**，例如 $x^3$ 不存在極值、$x^4$ 不存在反曲點。

{% gi 2 %}
![不存在極值](/img/no_extremum.png)
![不存在反曲點](/img/no_turning_point.png)
{% endgi %}

那要如何檢查？我們只要檢查以下其中一項，即可確定極值或反曲點的存在：

- $f'(x)$（極值）或 $f''(x)$（反曲點）在 $a$ 左右兩側變號
- $f''(a) \ne 0$（極值）或 $f'''(a) \ne 0$（反曲點）
- 實際畫出圖形確認

## 用導數理解泰勒形式

### 每項

我們可以將 $f(x)=c\_0+c\_1(x-a)+c\_2(x-a)^2+\cdots+c\_n(x-a)^n$ 進行數次微分後，觀察到一個現象：每一項的 $c\_n$，實際上可以被寫成

{% raw %}
$$
c_n = \frac{1}{n!} f^{(n)}(a)
$$
{% endraw %}

### 一次估計

套用剛才的結論，我們就可以將一次估計寫成

{% raw %}
$$
f(x)=f'(a)(x-a)+f(a)
$$
{% endraw %}

與先前的結論一致。

## 導數公式的推廣

### 乘法律

#### 證明

其實這個證明同樣可以從極限或泰勒形式出發，這裡就用比較簡單的極限角度來證它吧。

首先定義 $u=u(x),v=v(x)$ 且皆為可微函數，那麼它們的微分可以寫成定義的樣子

{% raw %}
$$
(uv)'(x)=\lim_{h \to 0}\frac{u(x+h)v(x+h)-u(x)v(x)}{h}
$$
{% endraw %}

再來，為了把它折成兩項，我們可以在分子同加減 $u(x+h)v(x)$

{% raw %}
$$
(uv)'(x)=\lim_{h \to 0}\frac{u(x+h)(v(x+h)-v(x))}{h}+\lim\_{h \to 0}\frac{v(x)(u(x+h)−u(x))​}{h}
=\lim_{h \to 0}\left[u(x+h)\frac{v(x+h)-v(x)}{h}\right]+v(x)\lim_{h \to 0}\frac{u(x+h)-u(x)}{h}
$$
{% endraw %}

因為 $\displaystyle\lim\_{h \to 0}u(x+h)=u(x)$，因此第一項變成 $\displaystyle\lim\_{h \to 0}u(x+h)\cdot\lim\_{h \to 0}\frac{v(x+h)−v(x)​}{h}=u(x)v'(x)$、第二項變成 $v(x)\cdot u'(x)$，證明完畢。

#### 公式

- 基本二項：$[uv]'=u'v+uv'$（前微後不微 + 後微前不微）
- 推廣多項：$[uvw]'=u'vw+uv'w+uvw'$（每項各別微）

### 連鎖律（Chain Rule）

#### 證明

證明一樣是使用原始極限定義的方式，我們取 $h(x)=g(f(x))$，並求出其導函數

{% raw %}
$$
h'(a)=\lim_{x \to a}\frac{h(x)-h(a)}{x-a}=\lim_{x \to a}\frac{g(f(x))-g(f(a))}{x-a}
$$
{% endraw %}

將它拆開

{% raw %}
$$
h'(a)=\lim_{x \to a}\left[\frac{g(f(x))-g(f(a))}{f(x)-f(a)}\cdot\frac{f(x)-f(a)}{x-a}\right]
$$
{% endraw %}

再拆

{% raw %}
$$
h'(a)=\left(\lim_{x \to a}\frac{g(f(x))-g(f(a))}{f(x)-f(a)}\right)\cdot\left(\lim_{x \to a}\frac{f(x)-f(a)}{x-a}\right)
$$
{% endraw %}

整理、代換，並令 $u=f(x)$

{% raw %}
$$
\lim_{x \to a}\frac{g(f(x))-g(f(a))}{f(x)-f(a)}=\lim_{u \to f(a)}\frac{g(u)-g(f(a))}{u-f(a)}=g'(f(a))
$$
{% endraw %}

{% raw %}
$$
\lim_{x \to a}\frac{f(x)-f(a)}{x-a}=f'(a)
$$
{% endraw %}

合併兩項

{% raw %}
$$
h'(a)=g'(f(a))\cdot f'(a)
$$
{% endraw %}

證畢。

#### 公式

$$
[f(g(x))]' = f'(g(x))\cdot g'(x)
$$

### 除法律

#### 證明

除法律實際上是乘法律和連鎖律的綜合應用，因此此項不一定要記憶。

{% raw %}
$$
\left[\frac vu\right]'=\left(v\cdot\frac 1u\right)'=v'\cdot\frac 1u+v\cdot\left[\frac 1u\right]'=v'\cdot\frac 1u+v\cdot\left[-\frac{u'}{u^2}\right]=\frac{v'u-vu'}{u^2}
$$
{% endraw %}

#### 公式

$$
\left[\frac{v}{u}\right]'=\frac{v'u-vu'}{u^2}
$$

### 三角函數

具體證明以及更多三角函數微分不在本章範圍中，此僅補充兩個最常見的三角函數微分：

- $[\sin x]'=\cos x$
- $[\cos x]'=-\sin x$

## 另一種導數符號

前面我們說過，導數的原始定義為 $f'(x)=\displaystyle\lim\_{h \to 0}\frac{f(x+h)-f(x)}{h}$，其中分母的 $h$ 說的其實就是 **$x$ 的變化量**小到靠近 $0$（因為 $h \to 0$），而分子的 $f(x+h)-f(x)$ 看的就是 $y$（即 $f(x)$）在 $h$ 靠近 $0$ 時的「**變化量**」。

我們可以發現，上面那一大串說明，可以被簡化成

{% raw %}
$$
\lim_{\Delta x \to 0}\frac{\Delta y}{\Delta x}
$$
{% endraw %}

那既然 $x$ 和 $y$ 變化量都會靠近 $0$，不如我們就把「變化量 $\Delta$」改寫成別的形式，數學家於是想到用「$\mathrm d$」來表示「**微量**的變化量」，於是微分的過程就可以被簡化成 $f'(x)=\frac{\mathrm dy}{\mathrm dx}$，而這便是**萊布尼茲符號**（我們原先提到的則稱為**牛頓符號**）。

我們可以再把 $f(x)$ 代回 $y$，式子就變成了

{% raw %}
$$
f'(x)=\frac{\mathrm d}{\mathrm dx}f(x)
$$
{% endraw %}

便成為了我們最常見到的表達形式。

## 反導函數（不定積分）

### 反函數

在談反導函數前，我們先來說說**反函數**。若今天我們有一函數 $y=f(x)$，則其反函數為 $x=f(y)$（亦記作 $f^{-1}(x)$），由此我們可以得知，「反函數」指與原函數相反的操作。若今天我們有一數 $\alpha$，則在經過函數 $f(x)$ 會變成 $f(\alpha)$，再將 $f(\alpha)$ 經過其反函數 $f^{-1}(x)$ 後，會變成 $f(f^{-1}(\alpha))$，因為 $f(x)$ 和 $f^{-1}(x)$ 互為反函數，因此

{% raw %}
$$
f(f^{-1}(\alpha))=\alpha
$$
{% endraw %}

{% img /img/inverse_function.jpg 反函數示例圖 %}

> 圖片來源：[臺北酷課雲 YouTube 頻道](https://www.youtube.com/watch?v=chDCHElXp7g)

### 反導函數

#### 意義

反導函數屬於反函數的一種，但它還原的是微分操作，那微分具體在做什麼？前面提到過，微分在做的其實是看非常微量的變化量，因此積分（反導函數）就是把這些微量變化量加總起來，看看原來的函數是什麼。

表示上，若寫成 $\int \mathrm dy$，就表示把無窮多個微量的 $\mathrm dy$ 加在一起，還原成 $y$。又因為微分會寫成 $f'(x)=\frac{\mathrm dy}{\mathrm dx}$，移項可得 $\mathrm dy = f'(x)\,\mathrm dx$，因此積分又可以寫成

{% raw %}
$$
\int \mathrm dy=\int f(x) \; \mathrm dx
$$
{% endraw %}

#### 作法

至於具體做法呢？要「還原」其實很簡單，我們只要逆向操作微分即可。微分公式為 $[ax^n]'=anx^{n-1}$，白話來說，就是「次方乘下來，次方減一」，因此積分的逆操作就會變成「**次方加一，次方除下來**」，我們可以寫作 $\int \, x^n \; \mathrm dx=\frac{1}{n+1}x^{n+1},\,n \ne -1$。

舉個例子，$f(x)=3x^5,\,f'(x)=15x^4$，則要對 $f'(x)$ 積分還原回 $f(x)$，就可以寫

{% raw %}
$$
f(x)=\int f'(x) \; \mathrm dx=\frac{15}{4+1}x^{4+1}=3x^5
$$
{% endraw %}

#### 丟失的常數項

但這裡還會有一個問題，我們做微分時，常數項會消失，而消失項無法在積分中找回，因此我們要補上一個常數項 $C$，來表示「任何可能的常數」。也因為有一項不確定數值（不定常數），因此這種積分才被稱為「**不定積分**」。

舉個例子

{% raw %}
$$
\int \, 2x+6 \; \mathrm dx=x^2+6x+C
$$
{% endraw %}

## 定積分

### 做法

前面說過，不定積分是指帶有一個不定常數的積分，而本章要說明的定積分，可想而知，是一種不會帶不定常數、確定數值的積分。

我們可以為積分標示上下限，例如「$f(x)$ 對 $x$ 從 $a$ 到 $b$ 的積分」就可表示為 $\int\_a^b \, f(x) \; \mathrm dx$。假設 $F'(x)=f(x)$，則 $\int \, f(x) \; \mathrm dx=F(x)+C$，加入上下限後就變成

{% raw %}
$$
\int_a^b \, f(x) \; \mathrm dx=F(b)-F(a)
$$
{% endraw %}

可以簡單記憶「**上標代入 - 下標代入**」，而 $F(b)-F(a)$ 可以簡記成 $\left. F(x) \right|_a^b$ 或 $[F(x)]\_a^b$。

### 意義

若函數 $f(x)$ 在區間 $[a,b]$ 連續，則 $\int\_a^b \, f(x) \; \mathrm dx$ 表示在區間 $[a,b]$ 內 $f(x)$ 與 $x$ 軸夾的**有向面積**。

何為有向面積？若函數處於 $x$ 軸下方，則定積分結果會為負號，又或是有部分區域穿到了 $x$ 軸下方時，會導致面積被減掉，而這種數值就叫作有向面積。如果要算出**真實面積**，則需要將 $x$ 軸上方與 $x$ 軸下方的部分拆開計算，並加上**絕對值**後，再加總。

這其實就是「**黎曼和**」的極限結論，當我們把圖形切成無限多個長方形，再計算長方形面積的總和，它的面積就會無限接近曲線下面積。

舉個例子，若我們要求下方圖形的面積，我們將它切成十份，左圖將長方形放在線上，因此面積會高估，即上黎曼和，其面積和可以表示為 $\displaystyle U\_{10}=\sum\_{i=1}^{10}f(x\_i) \cdot \Delta x$（長方形面積 = 長 &times; 寛）；右圖將長方形放在線下，因此面積會低估，即下黎曼和，其面積和可以表示為 $L\_{10}=\displaystyle\sum\_{i=1}^{10}f(x\_{i-1}) \cdot \Delta x$。

那如果不切成十份，而是改切成 $n$ 份，上和即 $U\_n=\displaystyle\sum\_{i=1}^{n}f(x\_i) \cdot \Delta x$、下和即 $L\_n=\displaystyle\sum\_{i=1}^{n}f(x\_{i-1}) \cdot \Delta x$。我們可以想像，當 $n$ 越大時，面積會估計得越準確，並且上、下黎曼和會漸漸靠近，那什麼時候會等於曲線下面積呢？就是 $n \to \infty$ 時，當把線切成無限多份時，上、下和會逼近到一致，概念上有點像夾擠定理那樣，讓

{% raw %}
$$
\lim_{n \to \infty}U_n=\lim_{n \to \infty}L_n=\int_a^b \, f(x) \; \mathrm dx
$$
{% endraw %}

{% img /img/integral.jpg 黎曼和示例圖 %}

> 圖片來源：[Ing. Jorge Sanchez YouTube 頻道](https://www.youtube.com/watch?v=jEjvtO5_A6E)

### 平均值

#### 離散

在離散情況下，平均值的計算相當簡單，就是 $\displaystyle\mu=\frac{1}{n} \sum\_{i=1}^n x\_i$，說人話就是資料總和 &div; 筆數。

#### 連續

那在連續的情況下如何計算？其實在連續圖形中，只要我們能找到一水平線，其與 $x$ 軸夾的長方形面積與函數曲線下面積相等，我們就說那條線的高度（$y$ 軸）為函數的**平均值**。

假設在區間 $[a,b]$ 中，要找到函數 $f(x)$ 的平均值 $\mu$，我們可能會寫成 $\mu\cdot(b-a)=\int\_a^b \, f(x) \; \mathrm dx$，移項一下就可以得到平均值的公式

{% raw %}
$$
\mu=\frac{1}{b-a}\int_a^b \, f(x) \; \mathrm dx
$$
{% endraw %}

### 代換積分法

#### 不定積分

首先，**代換積分法（u-substitution）**的「代換」，即表示要用某一個變數來替換另一串比較難的運算，實務上，我們習慣以 $u$ 來代換，具體怎麼做呢？

1. 找到一串看起來比較難算的東西（通常是為了解決微分連鎖律的反運算）
2. 令 $u$ 為那一串東西
3. 算出 $\mathrm du$，具體做法是對令 $u$ 算式左右兩邊都微分，得到 $\frac{\mathrm du}{\mathrm dx}$，再移項
4. 整個式子變成簡單的、與 $u$ 有關的積分，正常計算積分
5. 再把 $x$ 代回原式，完成運算

這麼說可能有點難懂，別急，我們舉個例子來算算看就懂了：計算 $\int \, 2x\cos x^2 \; \mathrm dx$。因為 $x^2$ 微分就是 $2x$，要用到連鎖律的反運算，因此這題使用代換積分法來做再適合不過了。

1. 找到一串難算的東西，我們可以選擇 $x^2$，因為它出現在三解函數內，難算
2. 令 $u=x^2$
3. 左右兩邊微分，變成 $\frac{\mathrm du}{\mathrm dx}=2x$，移項可得 $\mathrm du=2x \, \mathrm dx$
4. 原式變成 $\int \, \cos u \; \mathrm du$，直接算它會得到 $\sin u+C$
5. 代回原式，變成 $\sin x^2+C$，完成

{% note info %}
要判斷能不能用代換積分法、要令 $u$ 是什麼，關鍵就是要找到一個 $u$，使得 $f(x)=g(u)\cdot \mathrm du$
{% endnote %}

#### 定積分

定積分的代換積分法運算相比不定積分，其實只差了一步，也就是**替換上下標**，因為當今天函數變成用變數 $u$ 而非 $x$ 時，以 $x$ 為基準的上下標，就得替換成以 $u$ 為基準的上下標，如此做了之後，當我們再去算**上標代入 - 下標代入**時，就不一定要將 $x$ 代回（步驟 5.），直接代入即可。

舉個例子，要計算 $\int\_0^2 \, 2x\sqrt{1+x^2} \; \mathrm dx$，步驟就會變成：

1. 找到難算的東西，我們找 $1+x^2$
2. 令 $u=1+x^2$
3. $\frac{\mathrm du}{\mathrm dx}=2x$，所以 $\mathrm du=2x \, \mathrm dx$
4. 轉換上下標，$上標=1+2^2=5$、$下標=1+0^2=1$
5. 做積分 $\int\_1^5 \, \sqrt u \; \mathrm du=\int\_1^5 \, u^{\frac 12} \; \mathrm du=\frac 23\left[u^{\frac 32}\right]\_1^5$
6. **上標代入 - 下標代入**，變成 $\frac 23(5^{\frac 32}-1^{\frac 32})=\frac 23(5\sqrt 5-1)$，完成

#### 注意事項

除了前面提到的，找 $u$ 時要使 $f(x)=g(u)\cdot \mathrm du$ 之外，還要特別注意這個 $u$ 所代換的方程式必須為**一對一函數（one to one function）**，也就是 $f(a)=f(b) \implies a=b$，例如 $f(x)=x^2$ 就不符合，因為 $f(1)=f(-1)=1$ 但 $1 \ne -1$，這種情況下就不能令 $u$ 為它。

## 圓與球

### 圓

對於一個圓 $x^2+y^2=r^2$，我們從國小就知道了它的面積為 $A=\pi r^2$，但這是怎麼來的呢？我們可以用積分來理解它。

概念上，要計算一個圓面積，我們可以把它看成是從半徑為 $0$ 漸漸擴散到半徑為 $r$ 的所有同心圓，其圓周長 &times; 極小的厚度的總和（若無厚度，線的面積為 $0$，總和仍會是 $0$）。周長的公式我們小時候就學過，$S=2 \pi x$；至於厚度，因為它會隨著你切成的同心圓數量增加，而導致厚度變薄，當數量逼近無限個同心圓時，厚度逼近於 0，故厚度可表示成 $\mathrm dx$。那我們從 $0$ 到 $r$ 的範圍中，同心圓面積都是 $2 \pi x \, \mathrm dx$，所以圓面積就會是 $\int\_0^r \, 2 \pi x \mathrm dx=[\pi x^2]\_0^r=\pi r^2$。

### 球

#### 體積（球殼法）

面積是由無數線組成，所以體積是由無數面組成，那套用這個概念，我們就可以來探討球體的體積如何計算了。對於一個球體 $x^2+y^2+z^2=r^2$，它會是由無數個同心球殼組成，若我們切的球殼越多，每層球殼的厚度也一樣會越接近 0，故厚度為 $\mathrm dr$；球的表面積是 $4 \pi r^2$，那球殼體積微量就是 $\mathrm dV = 4 \pi r^2 \, \mathrm dr$，我們再把從 $0$ 到 $r$ 的所有球殼體積加起來，就會是 $V=\int_0^r 4 \pi r^2 \, \mathrm dr=4\pi \int_0^r r^2 \, \mathrm dr=4\pi\left[\frac{r^3}{3}\right]_0^r=\frac 43\pi r^3$。

{% raw %}
<iframe src="https://www.geogebra.org/calculator/b7jgp5w7?embed" width="800" height="600" loading="lazy" allowfullscreen style="border: 1px solid #e4e4e4;border-radius: 4px;" frameborder="0"></iframe>
{% endraw %}

{% note default %}
可以點擊左側 `dr` 的數值滑桿播放按鈕來播放動畫
{% endnote %}

#### 體積（圓盤法）

另一種想法，則是換一種角度去切它，我們除了用同心球殼以外，也可以直接切成好幾個很薄的、平面的圓盤，例如我們可以繞著 $x$ 軸做旋轉體（也就是先畫出一個二維圓，把它中心放在 $x$ 軸，讓它以 $x$ 軸為中心點旋轉出第三維度），我們可以把它表示成 $y^2+z^2=r^2-x^2$，而截面圓半徑即為 $r(x)=\sqrt{r^2-x^2}$。

再來，我們要把每個圓盤假設成非常薄，薄到接近 0，可以用 $\mathrm dx$ 表示，故薄片體積即截面圓 &times; 厚度，可以寫成 $\mathrm dV=\pi r(x)^2 \, \mathrm dx=\pi(r^2-x^2) \, \mathrm dx$，而球體體積就會是從最左邊 $-r$ 到最右邊 $r$ 的所有薄片體積和，即為 $V=\int\_{-r}^r \, \pi(r^2-x^2) \; \mathrm dx=\frac 43\pi r^3$（計算過程省略，~~留作課後習題~~）。

{% raw %}
<iframe src="https://www.geogebra.org/3d/m4prvqvt?embed" width="800" height="600" loading="lazy" allowfullscreen style="border: 1px solid #e4e4e4;border-radius: 4px;" frameborder="0"></iframe>
{% endraw %}

{% note default %}
可以點擊左側 `x0` 和（或）`dx` 的數值滑桿播放按鈕來播放動畫
{% endnote %}

{% note info %}
圓盤法和球殼法只是兩種最常見的解法，仍會有其他種解法（如環形法）
不過個人推薦，如果只想學一種，那圓盤法還是最推薦的，它在後面的章節中也會有所應用
{% endnote %}

#### 表面積

其實表面積和體積的關係非常巧妙，剛才我們提到，體積都會是由無數面組成，而在更前面的章節中，我們也提到，積分所做的其實就是利用「微小變化量的總和」來還原「微小變化量」的微分操作。注意到了嗎，體積的積分，就是還原表面積的微分，所以表面積公式實際上只要把體積公式微分一下，就可以求得了，即 $\left[\frac 43\pi r^3\right]'=4 \pi r^2$。

如果這個解釋太抽象，我們也能用圖形角度理解，**表面積**的概念我們可以這麼想，如果今天有一圓球體體積為 $V(r)=\frac 43 \pi r^3$，比這個球還再大一點點的球，它的體積為 $V(r+h)$，那麼它們之間的體積差，就會是一層小球殼，其體積為 $\frac{V(r+h)-V(r)}{h}$，我們可以想像，若 $h$ 很小很小時，這層球殼體積就會逼近於球體表面積，具體計算為

{% raw %}
$$
\lim_{h \to 0}\frac{V(r+h)-V(r)}{h}=[V(r)]'=4 \pi r^2
$$
{% endraw %}

所以其實這兩種解釋最後的方向都會是一樣的——微分。

## 旋轉體體積

### 定義

將一個二維圖形繞一條線（旋轉軸）轉一圈 $360^\circ$，會形成一個三維立體圖形，即**旋轉體（Solid of Revolution）**。

在高中階段和初階微積分中，我們只會學到以 $x$ 軸為旋轉軸的情形，故本章只會以它為例說明。

### 做法

對於一個實心圖形的旋轉體，以 $x$ 軸為旋轉軸的旋轉體體積為 $V=\pi\int\_a^b \, f^2(x) \; \mathrm dx$。

若今天要求的是 $f(x)$ 和 $g(x)$ 包圍而成的圖形以 $x$ 軸為旋轉軸的旋轉體體積，則體積為

{% raw %}
$$
V=\pi\int_a^b \, |f^2(x)-g^2(x)| \; \mathrm dx
$$
{% endraw %}

{% img /img/Rotationskoerper_animation.gif 旋轉體 %}

> 圖片來源：[維基百科](https://zh.wikipedia.org/zh-tw/%E6%97%8B%E8%BD%AC%E4%BD%93)

## 自然常數 $e$

### 數值

$e$ 是一個無限不循環小數，值大約是 $2.71828...$。

### 定義——金融

當年利率為 $r$、每年複利計息 $n$ 次時，則每年的成長倍率（**年增率**，即每年本利和的成長率）是 $\left(1+\frac rn\right)^n$，如果把計息次數逼近無限次時（也就是**連續複利**），年增率會逼近一個極限，也就是自然常數 $e$，具體寫法會變成

{% raw %}
$$
\lim_{n \to \infty}\left(1+\frac rn\right)^n=e^r
$$
{% endraw %}

### 定義——指數函數

利用 $\displaystyle f'(x)=\lim\_{h \to 0}\frac{f(x+h)-f(x)}{h}$ 這個原始定義，我們可以算出指數函數的導數值，例如：

- $[2^x]' \approx 2^x \cdot 0.6931$
- $[3^x]' \approx 3^x \cdot 1.0986$
- $[4^x]' \approx 4^x \cdot 1.3863$

注意到，所有指數函數 $a^x$，其導數會變成「$a^x \cdot\, ?$」的形式，於是在努力逼近下，我們會找到一個特殊的數，使得「$?$」部分逼近於 1，也就是讓 $[a^x]'=a^x$，而這個 $a$ 實際上就是自然常數 $e$。

結論，自然常數 $e$ 的其中一個特性即 $[e^x]'=e^x$，逆向的積分操作 $\int \, e^x \; \mathrm dx=e^x+C$ 也成立。

將這個特性推導成一般化公式，對指數函數 $e^u$，其導數 $[e^u]'=e^u \cdot u'$（別忘了連鎖律）。

## 指數與對數函數

### 指數函數

#### 微分

原本底數為 $e$ 時，我們有 $[e^x]'=e^x$，那如果底數換成非負實數 $a$ 呢？前面學過，它會是 $[a^x]'=a^x \cdot \; ?$，那這個 $?$ 又怎麼算？根據對數率 $a=e^{\ln a}$ 和一系列繪畫觀察等過程，我們可以得到一個指數函數的微分公式，即

{% raw %}
$$
[a^x]'=\ln a \cdot a^x, \, a>0
$$
{% endraw %}

#### 積分

其實積分只不過是把有連鎖律的微分公式反過來，即

{% raw %}
$$
\int \, u'e^u \; \mathrm dx=e^u+C
$$
{% endraw %}

不過當要積的是 $a^x$ 這種形式時，可以利用指數率，化簡後形成

{% raw %}
$$
\int \, a^x \; \mathrm dx=\frac{a^x}{\ln a}, \, 0<a \ne 1
$$
{% endraw %}

### 對數函數

#### 微分

經過對數律與連鎖律等推導，我們可以得到以下公式：

- $[\ln u]'=u'\cdot\frac 1u=\frac{u'}{u}$
- $[\log\_a x]'=\left[\frac{\ln x}{\ln a}\right]'=\frac{1}{x\cdot\ln a}$

#### 積分

從上面指數函數的積分結果再進行進一步的計算後，一樣可以換算成對數函數的積分公式

{% raw %}
$$
\int \, \ln x \; \mathrm dx=x\ln x-x+C
$$
{% endraw %}

## 積分基本公式的修正

前面我們說，積分公式為 $\int \, x^n \; \mathrm dx=\frac{1}{n+1}x^{n+1}, \, x \ne -1$，最後這個 $x \ne -1$ 的條件是為了不要出現分母是 0 的情況，但如果真的出現了 $n=0$（其實也就是 $\frac{1}{x}$）的情況，我們又該怎麼對它積分？

剛才我們又提到了，$[\ln x]'=\frac 1x$，不過這裡要特別注意負號的情況，當負數時，$[\ln -x]'=\frac{1}{-x}[-x]'=\frac{-1}{-x}=\frac 1x$，故應改寫成

{% raw %}
$$
[\ln |x|]'=\frac 1x, \, x \ne 0
$$
{% endraw %}

把整個積分基本公式做修正，得到最終公式

{% raw %}
$$
\int \, x^n \; \mathrm dx =\begin{cases}\frac{1}{n+1}x^{n+1}+C, & n\neq -1 \\\ln|x|+C, & n=-1\end{cases}
$$
{% endraw %}
